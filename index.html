<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>F√ºr Sophia üíñ</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
margin:0;
font-family:Poppins,system-ui;
background:linear-gradient(135deg,#ff758c,#ff7eb3);
display:flex;
align-items:center;
justify-content:center;
height:100vh;
overflow:hidden;
position:relative;
}

.card{
background:rgba(255,255,255,.2);
backdrop-filter:blur(20px);
border-radius:30px;
padding:30px;
width:90%;
max-width:420px;
text-align:center;
box-shadow:0 20px 40px rgba(0,0,0,.2);
animation:fadeUp 1s;
}

@keyframes fadeUp{
from{opacity:0;transform:translateY(40px)}
to{opacity:1}
}

input,button{
width:100%;
padding:15px;
margin-top:15px;
border-radius:20px;
border:none;
font-size:18px;
}

button{
background:white;
font-weight:600;
}

#page2,#page3,#heart,#text,#finalMessage{display:none}

.buttons{
display:flex;
gap:15px;
margin-top:20px;
}

#noBtn{
transition:.25s;
}

#heart{
font-size:120px;
margin-top:20px;
animation:pulse 1s infinite;
}

@keyframes pulse{
50%{transform:scale(1.3)}
}

canvas{
position:fixed;
inset:0;
pointer-events:none;
z-index:-1;
}

</style>
</head>

<body>

<canvas id="confetti"></canvas>
<canvas id="fireworks"></canvas>

<audio id="music">
<source src="https://www.bensound.com/bensound-music/bensound-love.mp3">
</audio>

<div class="card" id="page1">
<h2>üíå Geheimcode</h2>
<input type="password" id="code" placeholder="Code eingeben">
<button onclick="unlock()">√ñffnen</button>
<p id="countdown"></p>
</div>

<div class="card" id="page2">
<h2>Sophia meine Prinzessin,<br>willst du mein Valentin sein?</h2>
<div class="buttons">
<button onclick="yes()">Ja üíï</button>
<button id="noBtn">Nein</button>
</div>
<div id="heart">‚ù§Ô∏è</div>
</div>

<div class="card" id="page3">
<h2 id="questionText">Wo war unser erstes Date?</h2>
<input type="text" id="questionInput" placeholder="Antwort eingeben">
<button onclick="checkAnswer()">Antworten</button>
</div>

<div class="card" id="finalMessage">
<h2>Jaaaaa Baby, du bist mein Valentin. Ich liebe dich üòò</h2>
</div>

<script>
// NEIN Button swipen + Vibration
const noBtn=document.getElementById("noBtn");
noBtn.addEventListener("touchstart",moveNo);
noBtn.addEventListener("mouseenter",moveNo);

function vibrateShort(){if(navigator.vibrate) navigator.vibrate(50);}
function vibrateLong(){if(navigator.vibrate) navigator.vibrate([100,50,100]);}

function moveNo(){
vibrateShort();
let x=Math.random()*200-100;
noBtn.style.transform=`translateX(${x}px)`;
}

// Code pr√ºfen
function unlock(){
if(code.value=="1004"){
page1.style.display="none";
page2.style.display="block";
}else alert("Falscher Code üòò");
}

// JA geklickt
function yes(){
vibrateLong();
heart.style.display="block";
music.play();
startRoses();
startFireworks();
setTimeout(()=>{
page2.style.display="none";
page3.style.display="block";
},2000);
}

// Frage pr√ºfen
function checkAnswer(){
let ans=document.getElementById("questionInput").value.trim().toLowerCase();
if(ans==="r-caf√©" || ans==="r-cafe"){
page3.style.display="none";
finalMessage.style.display="block";
vibrateLong();
}else{
alert("Nicht ganz üòò Versuch nochmal!");
}
}

// Countdown
const valentines=new Date(new Date().getFullYear(),1,14);
setInterval(()=>{
let d=Math.floor((valentines-new Date())/86400000);
countdown.innerHTML="‚è≥ Noch "+d+" Tage";
},1000);

// Rosenregen (professionell)
const confettiCanvas=document.getElementById("confetti");
const confCtx=confettiCanvas.getContext("2d");
confettiCanvas.width=window.innerWidth;
confettiCanvas.height=window.innerHeight;

let rosesParticles=[];

function startRoses(){
rosesParticles=[];
for(let i=0;i<30;i++){
rosesParticles.push({
x:Math.random()*confettiCanvas.width,
y:Math.random()*-100,
r:Math.random()*25+20,
speed:Math.random()*2+1,
angle:Math.random()*2*Math.PI,
spin:Math.random()*0.1-0.05
});
}
requestAnimationFrame(drawRoses);
}

function drawRoses(){
confCtx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
rosesParticles.forEach(p=>{
confCtx.save();
confCtx.translate(p.x,p.y);
confCtx.rotate(p.angle);
confCtx.font=p.r+"px serif";
confCtx.fillText("üåπ",0,0);
confCtx.restore();

p.y+=p.speed;
p.angle+=p.spin;
if(p.y>confettiCanvas.height)p.y=-50;
});
requestAnimationFrame(drawRoses);
}

// Feuerwerk
const c=document.getElementById("fireworks");
const ctx=c.getContext("2d");
c.width=window.innerWidth;
c.height=window.innerHeight;

function startFireworks(){
setInterval(()=>{
ctx.clearRect(0,0,c.width,c.height);
for(let i=0;i<5;i++){
ctx.beginPath();
ctx.arc(Math.random()*c.width,Math.random()*c.height,Math.random()*30+20,0,Math.PI*2);
ctx.strokeStyle="white";
ctx.stroke();
}
},400);
}
</script>

</body>
</html>